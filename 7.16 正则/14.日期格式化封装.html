<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var data = new Date();
        console.log(data);
        // 2020-07-16 16:32:08
        function formatDate(date) {
            // 1.确定数据结构
            var str = 'YYYY-MM-DD HH:FF:SS'
            // 2.获取具体的年月日时分秒 替换结构字符串
            console.log(date);
            var time = {
                'Y+': date.getFullYear(),
                'M+': date.getMonth() + 1,
                'D+': date.getDate(),
                'H+': date.getHours(),
                'F+': date.getMinutes(),
                'S+': date.getSeconds()
            }
            // console.log(time);
            
            for (var x in time) {
                var reg = new RegExp(`(${x})`);
                if (reg.test(str)) {
                    // 把匹配到的内容替换为 年
                    var newVal=time[x]>=10?time[x]:'0'+time[x]
                    str = str.replace(RegExp.$1,newVal);
                }
                
            }
            console.log(str);

            // 2020-07-16 16:32:08
            return str;
        }
        var res = formatDate(data);
        console.log(res); // 2020-07-16 16:32:08
    </script>
</body>
<script>
    // 新增需求 日期格式不确定
    // 2020-01-02 16:12:11 2020/02/02 16:12:11
    var data = new Date();
    Date.prototype.formatDate=function (res) {
            // 1.确定数据结构
            var str = res;
            // 2.获取具体的年月日时分秒 替换结构字符串
            // console.log(date);
            var time = {
                'Y+': this.getFullYear(),
                'M+': this.getMonth() + 1,
                'D+': this.getDate(),
                'H+': this.getHours(),
                'F+': this.getMinutes(),
                'S+': this.getSeconds()
            }
            // console.log(time);
            
            for (var x in time) {
                var reg = new RegExp(`(${x})`);
                if (reg.test(str)) {
                    // 把匹配到的内容替换为 年
                    var newVal=time[x]>=10?time[x]:'0'+time[x]
                    str = str.replace(RegExp.$1,newVal);
                }
                
            }
            console.log(str);
            // 2020-07-16 16:32:08
            return str;
        }
        var a=data.formatDate('YYYY/MM/DD HH:FF:SS');
        console.log(a);
</script>
</html>