<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 什么是闭包？ 
      // 有权访问另一个函数作用域的变量的函数
      // 闭包的优缺点是什么?
      // 优点 1.外部函数可以访问内部函数的变量 2.变量不会被污染
      // 缺点 变量不能释放导致内存泄漏(可以在使用完变量后手动为它赋值为null)
      // 闭包三大特性 1.函数嵌套函数 2.函数内部可以引用函数外部的参数和变量 3.参数和变量不会被垃圾回收机制回收

      // fun 执行执行一次；形成一个闭包；闭包与闭包之间互不干扰；
      // bar bar1 bar2 之间 互不干扰；
      // 因为 fun 每次执行会初始化AO 对象 多个AO 多个地址， AO 与AO 对象之间 彼此独立的
      // 所以  bar  bar1 bar2 操作各自的AO 不是同一个AO 
      function fun() {
        var num = 0;
        return function a() {
          num++;
          console.log(num);
        };
      }
      // 函数中有函数；并且return 返回的是一个函数,里面的函数访问的函数体中的变量

      var bar = fun();   // 怎么实现外部访问内部的；存 a函数指针，内部还是 a 访问fun 的变量
      
    //   var bar = function () {
    //     console.log(num);
    //   };
      bar();// 1
      bar();// 2
      bar();// 3

      var bar1=fun();
      bar1();// 1
      bar1();// 2
      var bar2=fun();
      bar2();// 1
      bar2();// 2
      // console.log(bar)
    </script>
  </body>
</html>
<script>
     
</script>
